# 🧩 추천 시스템 알고리즘 정리

---

## 🎯 CBF (Content-Based Filtering)

> **정의**  
> 아이템의 내재적 속성(feature)을 벡터화하고, **코사인 유사도(Cosine Similarity)** 를 통해 비슷한 아이템을 추천하는 방식.

---

### ⚙️ 설명

#### 1️⃣ 학습 과정

1. **벡터화**
   - 설명: `TF-IDF`
   - 카테고리 / 구성원: `원-핫 인코딩`
   - 주소: `TF-IDF` 후 코사인 유사도 계산
2. **결합**
   - 벡터화된 특징 행렬을 수평 결합하여 **Matrix 생성**
3. **유사도 계산**
   - 결합된 Matrix의 모든 장소 쌍 간 유사도 계산 → `n × n` 유사도 Matrix 생성

#### 2️⃣ 추천 과정

1. 구성원, 카테고리, 위경도 입력
2. **위치기반 필터링(Haversine)** 을 통해 위치 필터링
3. 카테고리 및 구성원 매칭 점수 계산
4. **최종 점수 = 유사도 행렬 점수 + 규칙 기반 점수**

#### 3️⃣ 사용 이유

- Cold Start 문제 완화
- **설명 가능성** (추천 근거를 속성 단위로 제시 가능)

#### 4️⃣ 단점

- 사용자의 선호 패턴 일반화 불가
- 개인 간 교류 정보 부재

#### 5️⃣ 평가 지표

| 지표          | 설명                                                          |
| ------------- | ------------------------------------------------------------- |
| **Precision** | 정밀도                                                        |
| **Recall**    | 재현율                                                        |
| **NDCG**      | Normalized Discounted Cumulative Gain — 결과 목록의 순위 품질 |
| **F1-Score**  | 정밀도와 재현율의 조화 평균                                   |

---

## 🎯 ALS (Alternating Least Squares)

> **정의**  
> 모델 기반 협업 필터링의 알고리즘 중 하나로, **사용자–아이템 상호작용 행렬(Rating Matrix)** 을 희소 행렬 분해 형태로 학습하여 잠재 요인을 통해 개인화 추천을 수행.

---

### ⚙️ 설명

#### 1️⃣ 학습 과정

1. **데이터 구성**
   - `user_id`, `place_id` 인덱싱
   - `rating`: 암묵적 피드백(implicit feedback)으로 희소 행렬 생성
2. **행렬 분해**
   - 희소 행렬 → 저차원 행렬로 분해
   - 사용자 잠재벡터(예: 자연, 힐링) × 아이템 잠재벡터(예: 자연, 먹방) 내적으로 선호도 예측
3. **최적화**
   - 아이템 고정 후 사용자 잠재벡터를 **최소제곱법(ALS)** 으로 업데이트
   - 사용자 고정 후 아이템 잠재벡터를 업데이트
   - 두 과정을 반복하며 수렴
4. **가중치 조정**
   - **BM25**를 이용해 자주 등장하는 아이템의 과대평가 방지

#### 2️⃣ 추천 과정

1. 학습된 사용자 벡터와 아이템 벡터의 내적 계산
2. 이미 본 아이템 제외 후 상위 `K`개 아이템 추천
